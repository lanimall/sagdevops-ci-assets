<?xml version="1.0"?>
<project name="ProjectInitializer" default="" basedir="." >
    <condition property="sag.ci.home" value="${env.SAG_CI_HOME}" >
        <isset property="env.SAG_CI_HOME" />
    </condition>
    <property name="sag.ci.home" value="." />

    <!-- system properties properties -->
	<target name="initSAGHome" unless="SAGHome">
        <condition property="SAGHome" value="${env.SAGHome}" >
            <isset property="env.SAGHome" />
        </condition>
        <property name="SAGHome" value="/opt/softwareag" />

        <echo>${SAGHome}</echo>
        <fail message="System property 'SAGHome' should be defined!" unless="SAGHome"/>
	</target>

	<target name="initDeployerInstallationPath" unless="deployerInstallationPath">
		<fail message="System property 'deployerInstallationPath' should be defined!"/>
	</target>

	<target name="initDeployerHost" unless="deployerHost">
		<fail message="System property 'deployerHost' should be defined!"/>
	</target>
	
	<target name="initDeployerPort" unless="deployerPort">
		<fail message="System property 'deployerPort' should be defined!"/>
	</target>
	
	<target name="initDeployerUsername" unless="deployerUsername">
		<fail message="System property 'deployerUsername' should be defined!"/>
	</target>
	
	<target name="initDeployerPassword" unless="deployerPassword">
		<fail message="System property 'deployerPassword' should be defined!"/>
	</target>
			
	<!-- mandatory properties -->
	<target name="initProjcetName" unless="projectName">
		<fail message="Property 'projectName' should be defined!"/>
	</target>
		
	<target name="initBuildOutputDir" unless="buildOutputDir">
		<fail message="Property 'buildOutputDir' should be defined!"/>
	</target>
	
	<target name="initRepositoryName" unless="repositoryName">
		<fail message="Property 'repositoryName' should be defined!"/>
	</target>
	
	<target name="initDeployerProjectDefinition" unless="deployerProjectDefinition">
		<fail message="Property 'deployerProjectDefinition' should be defined!"/>
	</target>

	
	<!-- optional build properties -->
	<target name="initISProjectsDir" unless="isProjectsDir">
		<property name="isProjectsDir" value=""/>
	</target>
	
	<target name="initISConfigDir" unless="isConfigDir">
		<property name="isConfigDir" value=""/>
	</target>

    <target name="initISTestsDir" unless="isTestDir">
        <property name="isTestDir" value=""/>
    </target>
	
	<target name="initBPMProjectsDir" unless="bpmProjectsDir">
		<property name="bpmProjectsDir" value=""/>
	</target>
	
	<target name="initMWSProjectsDir" unless="mwsProjectsDir">
		<property name="mwsProjectsDir" value=""/>
	</target>
	
	<target name="initRulesProjectsDir" unless="rulesProjectsDir">
		<property name="rulesProjectsDir" value=""/>
	</target>
	
	<target name="initUMProjectDir" unless="umProjectsDir">
		<property name="umProjectsDir" value=""/>
	</target>
	
	<target name="initTestPackageNamePattern" unless="testPackageNamePattern">
		<property name="testPackageNamePattern" value=""/>
	</target>

	<target name="initJenkinsReportDir" unless="jenkinsReportDir">
		<property name="jenkinsReportDir" value=""/>
	</target>

	<!--Main Init targets-->
    <target name="initABEBuild" depends="initSAGHome,initABEProperties" description="init properties needed for the ABE build phase">
    </target>

    <target name="initDeployer" depends="initSAGHome,initDeployerSystemProperties,initDeployerMandatoryProperties" description="init properties needed for the Deployer phase">
    </target>

    <target name="initTests" depends="initSAGHome, initISTestsDir, initTestPackageNamePattern,initJenkinsReportDir" description="init properties needed for the Test phase">
    </target>

    <target name="initABEProperties" depends="initBuildOutputDir,initISProjectsDir,initISConfigDir,initBPMProjectsDir,initMWSProjectsDir,initRulesProjectsDir,initUMProjectDir">
    </target>

    <target name="initDeployerSystemProperties" depends="initDeployerInstallationPath,initDeployerHost,initDeployerPort,initDeployerUsername,initDeployerPassword">
    </target>

	<target name="initDeployerMandatoryProperties" depends="initProjcetName,initRepositoryName,initDeployerProjectDefinition">
	</target>
</project>
